<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>W205 Project - Path Finder</title>
  <link rel="stylesheet" href="voronoi_lines.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.10/css/jquery.dataTables.min.css">

  <script src="https://code.jquery.com/jquery-2.0.3.js"></script>
  <script src="https://cdn.datatables.net/1.10.10/js/jquery.dataTables.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script src="voronoi_lines.js"></script>
  <script src="biz_main.js"></script>
</head>

<body>
Select a city: <select id="city"></select>
Select a State: <select id='state'></select>
Select a category: <select id='category'></select>
<button type="button" id="refresh">Refresh Chart</button><br>

<div id='chartHolder'></div><br>
<table id="leaderboard" class="display" width="100%"> </table>

<script>
// first and foremost
var host = '54.152.106.69'; //<the AWS host ip>;
var highlight_segment;


//----------------------- initialization -------------------------
// populate state, city, category dropdowns
// TODO: you can see there are all kinds crap in the data: cleaning is a huge deal
initialize();
d3.select('#chartHolder').append("svg").attr('id', 'voronoi');

//----------------------- initialization -------------------------

//----------------------- event handlers -------------------------
$('#refresh').click(function(){
  refreshData();
});

$('#chartHolder').click(function() {
  console.log('searching leaderboard for ' + highlight_segment);
  table.columns(0).search(highlight_segment).draw();
});

$('#leaderboard').click(function() {
  table.columns(0).search('').draw();
});

//----------------------- event handlers -------------------------
</script>

</body>
</html>
